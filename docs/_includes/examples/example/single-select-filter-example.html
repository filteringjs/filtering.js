<div id="filteringjs-single-select-filter-example">
    <div class="flex gap stretch">
        <div class="filtering-group" data-group-name="color">
            <div class="filtering-filter" data-filter-name="red">Red</div>
            <div class="filtering-filter" data-filter-name="green">Green</div>
            <div class="filtering-filter" data-filter-name="blue">Blue</div>
        </div>
    </div>
    <div class="flex">
        <div class="filtering-item" data-filter-color="red"></div>
        <div class="filtering-item" data-filter-color="green"></div>
        <div class="filtering-item" data-filter-color="blue"></div>
    </div>
</div>

<script>
    (function () {
        const {FilteringFlow} = filteringjs;

        class MyFlow extends FilteringFlow {
            beforeFilter(filterElement) {
                if (!filterElement.classList.contains('checked')) {
                    for (const fe of filterElement.closest('.filtering-group').getElementsByClassName('filtering-filter')) {
                        fe.classList.remove('checked');
                    }
                }
                return true;
            }
        }

        new MyFlow(document.querySelector('#filteringjs-single-select-filter-example'));
    }())
</script>
